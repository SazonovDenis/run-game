### Ошибки

### генерация неправильных ответов, когда есть совпадения

Например, есть цвета

purple-фиолетовый violet-фиолетовый

для вопроса "purple-фиолетовый"   
не должен найтись неправильный ответ "violet-фиолетовый"

Ошибка для цветов

```
вопрос: gold
показывает
правильный ответ: золотой 
не правильный ответ: золотой, золотистый
```

не должен был предлагать такой вариант!!!!!

### Управление списком неправильных ответов при выборе заданий

Как при выборе ЗАДАНИЙ на игру учесть управление списком неправильных ответов (ведь
таблицы PlanTask больше нет)? Ведь для задания в рамках плана "фрукты" - один набр
неправильных ответов (только из фруктов), а для других планов, например "Еда" - другой?

### Совпадающий spelling разных item

Слова `какао` по-казахски и по-русски пишутся одинаково, при составлении заданий система
не знает, какой item что выбрать

### Генерация поиск пары фактов по значению в generatePlanFact

Если искать по переводу "зеленый", то получим сразу два item: "жасыл" (kz) и "green" (en),
что вообще-то требует фильтрации по направлению. Когда будет много языков романской
группы, то вообще сложно будет

### Фильтр в уровнях

Для библиотеки - по языкам, типам (аудио/текст), тэгам (сложность). Поиск убрать совсем
или сделать сплошным(?), по словам.

Для "мои уровни" убрать поиск

### Словари - много дубликатов из разных источников

С бивает с тольку. Взять однин источник, но хороший. Или только дописывать новые слова, а
новые _значения_ добавлять только непохожие

### Во время игры старый и новый звук накладываются друг на друга

Нужно добавить пауз/анимаций, например

- паузу после ответа с показом правильного
- не играть один из звуков

### После показа вопроса сделать паузу перед показом вариантов

Чтобы дать возможность вспомнить верный ответ

### Точное написание при поиске по списку

Ищем:

```
Dumb ways to die
So many dumb ways to die
```

не находим `way`, т.к. _не_ выполняется преобразования `ways` -> `way`

### Выражения при поиске в списке слов

В предложении "...this steps in when ..." не находит выражение "step in", т.к. нет
преобразования "steps in" -> "step in"

### /home/dvsa/projects/jc2-projects/run-game/data/web-grab/5000-studynow/mp3/as\ well\ as.mp3

нет звука

### Состояние "Идет поиск"

При начале поиска по словам старый список не исчезает сразу, а ждет окончания поиска.
Нужно чтобы было видно, что идет поиск, например очиска списка или что-то подобное

Особенно неудобно при фотографировании - пока идет поиск, видно видоискатель камеры, как
будто бы снимок не сделан, а на самом деле идет поиск и нужно чтобы снимок "замер".

### Задано "go on", варианты ответа:

~~~
{valueTranslate: 'происходить', id: 1162, isTrue: true, task: 1015}
{valueTranslate: 'производитель', id: 1163, isTrue: false, task: 1015}
{valueTranslate: 'проход', id: 1164, isTrue: false, task: 1015}
{valueTranslate: 'происхождение', id: 1165, isTrue: false, task: 1015}
{valueTranslate: 'приходить', id: 1166, isTrue: false, task: 1015}
{valueTranslate: 'продолжить', id: 1167, isTrue: false, task: 1015}
~~~

При этом верный ответ показан как "происходить", а ответ "продолжить" - показан как
неправильный, хотя это НЕ ТАК!!!

### run.game.dao.backstage.Item_list

методы поиска возвращает Store то структуры "Item", то "Fact.list"

### run.game.dao.backstage.TaskGenerator

Варианты неправильных ответов подбираются с ИСКЛЮЧЕНИЕМ заведомо выученных фактов:

- **done** в качестве вопросов
- **todo**: в качестве НЕПРАВИЛЬНЫХ вариантов (т.к. это облегчит угадывание методом
  исключения)

### Задания при создании и редактировании плана

генерация недостающих заданий при создании (run.game.dao.backstage.Plan_upd.ins)
и редактировании плана (run.game.dao.backstage.Plan_upd.***)
вынести из создания плана (checkPlanTasks) и перенести в код более верхненго уровня

Учесть, что при генерации плана не всегда есть нужные Task

### Рейтинг при показе игры

Рейтинг при показе резкльтатов игры, в случае если в одной игре было несколько заданий на
одну пару фактов. В этом случае в суммарном заработанном за игру рейтинге дублируется
рейтинг по каждому Task, и показаны лишние рейтинги по каждому Task, а нужно чтобы рейтинг
был только для фактов.

### run.game.dao.backstage.TaskGeneratorImpl.prepareValuesFalse

1. Язык слова надо передавать, а не угадывать

~~~
String lang
if (UtWord.isAlphasEng(valueTrue)) {
    lang = "eng"
} else 
...
~~~

2. Подбор неправильных вариантов сделан костыльно - похожие+случайные Надо чтобы:

- та же часть речи
- похожая не на ПРАВИЛЬНЫЙ ВАРИАНТ ответа, а на ПРАВИЛЬНЫЕ ответы ПОХОЖИХ слов от ВОПРОСА.
  Например, для вопроса "dog" подбирались неправильные ответы из правильных ответов на "
  dig", "deg" и т.п.

### run.game.dao.game.ServerImpl.findStill

1. **done** При выдаче слов убрать артикли, предлоги и т.п. - очень мещают
2. **done** Порядок слов не соблюден!
3. **done** Догрузить аудио в список предпросмотра (там надо победить разнообразие
   вариантов)
4. Все-таки нужно показывать одно слово - одна строка, а всё разнообразие куда-нибудь
   спрятать

### run.game.dao.backstage.Task_upd.saveUsrFacts

~~~
void saveUsrFacts(List<Map> usrFacts, long idPlan) {
~~~

Параметр "план" (idPlan) не нужен для бизнес-логики, только для кубов. Заменить на
нормальный пересчет (ведь потенциально задействуются многи планы)

### run.game.dao.backstage.Plan_upd.addFact

Указщание пользователя - некорректно, ведь идменение ОДНОГО плана (например: общего или
для группы или от имени контекстного пользователя) может коснутся МНОГИХ пользователей,
которые разделяют этот план

```
// Пересчитаем кубы
long idUsr = getCurrentUsrId()
RgmCubeUtils cubeUtils = mdb.create(RgmCubeUtils)
cubeUtils.cubesRecalcPlan(idUsr, idPlan)
   ```

### /home/dvsa/projects/jc2-projects/run-game/js-modules/frontend/src/comp/TaskList.vue

~~~
default.methods.isFactFirstAnswer
~~~

Определиться, как показывать (и выбирать) несколько вариантов ответов
(несколько переводов на одно слово)

### от Паши - общее

История поиска - чтобы не было пусто.

**ВАЖНО!!!** Кнопка назад ведет себя неадекватно - не переходит назад, а выходит из
программы

**ok** Кнопка фото: сделать посередине и круглую как в фотоаппарате

**ok** Фото: выбранное слово показывать перевод и меню к нему

**ok** Ориентация фото может быть горизонтальной

**ok** Неочевидно, что означает "скрыть"

**ok** Иконку "глаз" заменить на надпись

**ok** в поиске по слову точные совпадения вывести вперед

**ok** кнопка "сохранить" при редактировании - не нужна, сохранять автоматом

**ok** не ищет "mine", если ввести "mined"

**ok** не ищет "children", если ввести "children`s"

### от Паши - игра

Нет таймера, можно думать бесконечно

Непонятно, почему ответил все, а получил 3 балла из 6 - разъяснить логику начисления
баллов

не спрашивать два раза подряд один и тот же item

нет кнопки выхода из игры (если надоело)

### от Паши - новые фичи

Тренажер на неправильные глаголы

### Попробовать парсить переносы

**ok**

```
This per-
formance
is by-
pass
sixty-
four
times
```

Если между словами стоит дефис и следующее слово на другой строке и не найдены оба слова
"per" и "formance", то искать "performance".

НЕ СДЕЛАНО!!! - при этом "sixty-four" остается не слитым словом.

Пример пары "by" и "pass" говорит о том, что слитое слово "bypass" предпочтительнее
отдельных слов.

### Скрыть список слов если есть фото

Возможно, стоит разделить список слов и фото со словами, переключаясь между ними (без
потери картинки)

Тогда логично садатся и переключатель "скрытые", и переключатель "все" и отдельный
список "незнакомые в словаре".

### TouchZoom

Error: как то zoom дергается, скачками идет

Выдавать также начальную и текущую позицию раздвигающих пальцев, чтобы выдавать не только
zoomRate, но и сдвиг по горизонтали и по вертикали.

Ведь zoom идет от некоторой точки, например, если один палец остается на месте, то
изображение в этой точке не сдвигается, иними словами изображение под пальцами всегда
остается в той же точке, какую пальцы коснулись в начале zoom.

### Текущая игра отображается в старом фрейме

в старом фрейме (без меню и с кнопкой "домой"), если есть неоконченная игра И вообще,
следует пересмотреть фоейм "игры" - продумать так, чтобы боло видно сколько слов выучено
за сегодня/неделю/месяц, сколько всего зараьротано, како-нибудь график по типу турнирной
таблицы

### Не показывать наименование плана при редактировании списка "мои слова"

### от Тани

Загружать фото также с файла (галереи или с компа).

По игре - предлагать не 6 вариантов, а 4?

Слишком много повторений при ошибке - напрягает. Надо бы не 10, а 3, лучше повторить еще
раз, спустя 2-3 вопроса.

Список уровней: непонятно, что значит "Сложный" в комбобоксе. А если уровень только один?
Желательно иметь фильтр языка (НЕ радиопереключатель).

При игре, возможно, не стоит смешивать разные языки.

Не найденные слова - напрягают.

Желательно иметь фильтр языка при поиске в словаре. Пользователь имеет 1-2 изучаемых
языка, среди них и переключаемся (радиопереключатель). Переключатель возле поля ввода, там
же, где галочка "Скрытые" - её тоже вернуть, назвав "Известные".

Сбивают с толку похожие неправильные варианты, например:
"путешествия" при правильном "путешествие".

Прогрес при игре неочевиден - непонятно, когда игра кончится.

### В списке Link много магических констант - pаюзать mixins и dbConst

### Не найденные слова

Если они не найдены на фото - добаить рекацию по клику с честным признанием, что слова не
знаем

Если при поиске по тексту - тоже придумать, как показать в списке и выделить незнакомые

### Фильтр по частям речи при поиске в словаре

Возможно, при поиске в словаре, нужен не только фильтр языка и "известные", но и фильтр по
частям речи, например, "без предлогов". Это особенно напрягает при поиске по фрагментам
текста (на фото) - там много лишнего выделения появляется. Замаскирванные слова немного
затенить на картинке.

Для русского языка, для поиска, заюзать словарь грамматических форм, т.к. фокус как для
английских слов (отбрасывание распространенных окончаний) - не пройдет.

### TaskListFilterBar

Почему TaskListFilterBar используется в PlanPage, но НЕ используется в PlanEditPage, а
вместо этого сделана какая-то конструкция по месту?

### Странный способ получить данные из дочернего компонента TextInputText

TextInputText и PlanEditPage обмениваются данными и сообщениями через сообщения разщди
передачи единственной переменной:

```
itemsOnLoading(itemsIsLoading) {
    this.itemsIsLoading = itemsIsLoading
},
```

Переделать в стиле двустороннего связывания. Возможно, проблема в неправильной организации
- компонент PlanEditPage показывает данные, но не управляет их загрузкой.

### Недоделки по Link_upd

Обработать ситуации

- два пользователя запросили друг друга
- два пользователя запросили друг друга о несовместимом (друг - ученик) ждет первого
  подтверждения, после чего противоречащий запрос удалаяется
- два пользователя запросили друг друга о совместимом (друг - друг) - срабатывает само
- невозможно заблокировать пользователя, который не в друзьях

### Написать, зачем immediate: true,

LinkList

```
watch.usrs.handler {
   ...
},
immediate: true,
```

TaskOptions

```
watch.taskOptions.handler {
   ...
},
immediate: true,
```

### Показ всех вариантов перевода при поиске по фрагменту

Стоит ли при при поиске "вык" ("навык"), если строка нашлась в ОДНОМ из вариантов ПЕРЕВОДА
некоего Item, показыват ВСЕ варианты перевода этого Item, или всё-таки только варианты
перевода, которые явно содержат искомую строку "вык"? Что делать, чтобы показать
пользователю, что есть другие варианты перевода?

### ВАЖНО!!! Параметры даты в строке и часовой пояс

При запросе дата и и дата/время отправляются как строки, без указания timezone. Тогда
имеем проблемы, т.к. часовой пояс берется пао серверному. Актуально при запросе данных за
период, например статистики.

### Поввторение рейтинга по слову в итогах одной игры

Когда одно слово за одну игру было задано несколько раз, то в каждой строке с этим словом
выводится рейтинг слова за ВСЮ игру. Это смущает, т.к. это ИТОГОВЫЙ рейтинг слова за ВСЕ
повторения, а кажется - что это за каждый ответ. Решить, как показывать в таком случае,
возможно рейтинг выводить только один раз, возле последнего повторения.

### Cube_UsrPlanStatistic и изменения в PlanFact

Если в PlanFact будут внесены изменения, это повлечет необходимость пересчитать статистику
Cube_UsrPlanStatistic для всех пользователей (что долго?).
